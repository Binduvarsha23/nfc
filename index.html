<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NFC Test</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
  button { padding: 10px 20px; font-size: 16px; }
  #log { margin-top: 20px; text-align: left; background: #f5f5f5; padding: 10px; border-radius: 5px; }
</style>
</head>
<body>
<h1>Web NFC Reader</h1>
<button id="scanButton">Scan NFC Tag</button>
<div id="log">Click the button to start scanning.</div>

<script>
document.getElementById("scanButton").addEventListener("click", async () => {
    const logEl = document.getElementById("log");

    if ("NDEFReader" in window) {
        try {
            const ndef = new NDEFReader();
            await ndef.scan();
            logEl.innerHTML = "‚úÖ NFC scan started. Bring a tag close.";

            ndef.onreading = event => {
                const decoder = new TextDecoder();
                logEl.innerHTML = `
                    üì° Tag detected!<br>
                    Serial: ${event.serialNumber || "N/A"}<br>
                    Record: ${decoder.decode(event.message.records[0].data) || "No text found"}
                `;
            };

            ndef.onreadingerror = () => {
                logEl.innerHTML = "‚ö†Ô∏è NFC tag read error ‚Äî Tag might be unsupported or empty.";
            };

        } catch (error) {
            logEl.innerHTML = `‚ùå Error: ${error.message}`;
        }
    } else {
        logEl.innerHTML = "‚ùå Web NFC is not supported on this device/browser.";
    }
});
</script>
</body>
</html>
